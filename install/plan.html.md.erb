---
title: Planning your Tanzu Operations Manager deployment
owner: PCF Documentation
---

This topic provides an overview of how you can plan a <%= vars.ops_manager_first %> installation.

When you are planning an <%= vars.ops_manager %> installation, do the following:

- Review the Requirements for your IaaS.

- Refer to the Reference Architecture for your IaaS.

- Assess your platform needs, including capacity, availability, container support, host OS, resource isolation, and geographical distribution. Discuss with your <%= vars.company_name %> contact.

For all of the tasks mentioned, the specifics depend on the IaaS that you
are deploying <%= vars.ops_manager %> to. The information in this topic is organized by IaaS.

## <a id='requirements'></a> General requirements

The general requirements for deploying and managing a <%= vars.platform_name %> deployment with <%= vars.ops_manager %> and <%= vars.app_runtime_full %> (<%= vars.app_runtime_abbr %>) are:

* A wildcard DNS record that points to your Gorouter or load balancer. Alternatively, you can use a service such as xip.io. For example, `203.0.113.0.xip.io`.
  * <%= vars.app_runtime_abbr %> gives each app its own hostname in your app domain.
  * With a wildcard DNS record, every hostname in your domain resolves to the IP address of your Gorouter or load balancer, and you do not need to configure an A record for each app hostname. For example, if you create a DNS record `*.example.com` pointing to your load balancer or Gorouter, every app deployed to the `example.com` domain resolves to the IP address of your Gorouter.

* At least one wildcard TLS certificate that matches the DNS record you set up above, `*.example.com`.

* Sufficient IP allocation:
  * One static IP address for one of your Gorouters.
  * One static IP address for each job in the <%= vars.ops_manager %> tile. For a full list, see the **Resource Config** pane for each tile.
  * One static IP address for each job listed below:
      * Consul
      * NATS
      * File Storage
      * MySQL Proxy
      * MySQL Server
      * Backup Restore Node
      * Router
      * MySQL Monitor
      * Diego Brain
      * TCP Router
  * One IP for each VM instance created by the service.
  * An additional IP address for each compilation worker. The formula for total IPs needed is `IPs needed = static IPs + VM instances + compilation workers`.

  <p> <%= vars.company_name %> recommends that you allocate at least 36 dynamic IP addresses when deploying <%= vars.ops_manager %> and <%= vars.app_runtime_abbr %>. BOSH requires additional dynamic IP addresses during installation to compile and deploy VMs, install <%= vars.app_runtime_abbr %>, and connect to services.</p>

* One or more NTP servers if not already provided by your IaaS.

* (**Recommended**) A network without DHCP available for deploying the <%= vars.app_runtime_abbr %> VMs.

  <p> If you have DHCP, see <a href="troubleshooting.html">Troubleshooting Deployment Problems</a> for guidance on avoiding issues with your installation.</p>

* (**Optional**) External storage. When you deploy <%= vars.app_runtime_abbr %>, you can select internal file storage or external file storage, either network-accessible or IaaS-provided, as an option in the <%= vars.app_runtime_abbr %> tile. <%= vars.company_name %> recommends using external storage whenever possible. For more information about how file storage location affects platform performance and stability during upgrades, see the [<%= vars.app_runtime_abbr %> documentation](https://docs.vmware.com/en/VMware-Tanzu-Application-Service/3.0/tas-for-vms/configuring.html#file-storage).

* (**Optional**) External databases. When you deploy <%= vars.app_runtime_abbr %>, you can select internal or external databases for the BOSH Director and for <%= vars.app_runtime_abbr %>. <%= vars.company_name %> recommends using external databases in production deployments. An external database must be configured to use the UTC timezone.

* (Optional) External user stores. When you deploy <%= vars.ops_manager %>, you can select SAML, LDAP, or OIDC to integrate existing user accounts.

* The most recent version of the [Cloud Foundry Command Line Interface](https://github.com/cloudfoundry/cli#downloads) (cf CLI).

## <a id='front-end'></a> Front end planning for all IaaSes

 - [Providing a Certificate for your SSL Termination Point](https://docs.vmware.com/en/VMware-Tanzu-Application-Service/<%= vars.dot_major_tas_version %>/tas-for-vms/security_config.html)
 - [Using Your Own Load Balancer](https://docs.vmware.com/en/VMware-Tanzu-Application-Service/<%= vars.dot_major_tas_version %>/tas-for-vms/custom-load-balancer.html)
 - [Preparing Your Firewall](config_firewall.html)
 - [(Optional) Installing <%= vars.ops_manager %> in Air-Gapped Environments](offline_installation.html)

## <a id='specific'></a> IaaS-specific planning

* Amazon Web Services (AWS)

  - [<%= vars.ops_manager %> on AWS Requirements](aws.html)
  - [AWS Reference Architecture](../refarch/aws/aws_ref_arch.html)
  - [<%= vars.ops_manager %> on AWS Permissions Guidelines](aws-iaas-user-roles.html)

* Microsoft Azure

  - [<%= vars.ops_manager %> on Azure Requirements](azure.html)
  - [Azure Reference Architecture](../refarch/azure/azure_ref_arch.html)

* Google Cloud Platform (GCP)

  - [<%= vars.ops_manager %> on GCP Requirements](gcp.html)
  - [GCP Reference Architecture](../refarch/gcp/gcp_ref_arch.html)
  - [GCP Resource Quota Guidelines](gcp-quotas.html)

* OpenStack

  - [<%= vars.ops_manager %> on OpenStack Requirements](openstack.html)
  - [OpenStack Reference Architecture](../refarch/openstack/openstack_ref_arch.html)

* vSphere

  - [<%= vars.ops_manager %> on vSphere Requirements](vsphere.html)
  - [vSphere Reference Architecture](../refarch/vsphere/vsphere_ref_arch.html)
  - [Configuring SSL Termination for vSphere Deployments](https://docs.vmware.com/en/VMware-Tanzu-Application-Service/<%= vars.dot_major_tas_version %>/tas-for-vms/ssl-term.html)
  - [vSphere Virtual Disk Types](https://docs.vmware.com/en/VMware-Tanzu-Application-Service/<%= vars.dot_major_tas_version %>/tas-for-vms/disk-format.html)
  - [vSphere Permissions Guidelines](../vsphere/vsphere-service-account.html)
  - [Availability Zones in vSphere](understand-az.html)
