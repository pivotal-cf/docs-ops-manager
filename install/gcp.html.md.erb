---
title: Requirements and prerequisites for Tanzu Operations Manager on GCP
owner: Ops Manager
---

Ensure that you meet the following requirements and prerequisites before
installing <%= vars.ops_manager_first %> on Google Cloud Platform (GCP).

You can install <%= vars.ops_manager %> on GCP with either the <%= vars.app_runtime_first %> or <%= vars.k8s_runtime_first %> runtime. There are resource requirements specific to each runtime. Ensure that you meet the requirements for your runtime and the requirements specific to GCP before installing <%= vars.ops_manager %> on GCP.

## <a id='requirements'></a> Requirements

This section lists the following resource requirements for installing <%= vars.ops_manager %> on GCP:

* General <%= vars.ops_manager %> resource requirements. For more information, see [<%= vars.ops_manager %> Resource requirements](#general-requirements).

* GCP-specific resource requirements. For more information, see [GCP resource requirements](#gcp-requirements).

### <a id='general-requirements'></a> <%= vars.ops_manager %> Resource requirements

This section lists resource requirements for installing <%= vars.ops_manager %> on GCP. It includes links to general resource requirements for both the <%= vars.app_runtime_abbr %> and <%= vars.k8s_runtime_abbr %> runtimes.

See one of the following topics, depending on the runtime you plan to install using <%= vars.ops_manager %>:

* For <%= vars.app_runtime_abbr %>-specific resource requirements, see [<%= vars.app_runtime_abbr %> Resource Requirements](https://docs.vmware.com/en/VMware-Tanzu-Application-Service/4.0/tas-for-vms/requirements.html).

* For <%= vars.k8s_runtime_abbr %>-specific resource requirements, see [AWS prerequisites and resource requirements](https://docs.vmware.com/en/VMware-Tanzu-Kubernetes-Grid-Integrated-Edition/1.17/tkgi/GUID-aws-requirements.html).

### <a id='gcp-requirements'></a> GCP resource requirements

The following are GCP-specific resource requirements for installing <%= vars.ops_manager %> on GCP:

* Installing <%= vars.ops_manager %> on GCP requires a minimum of the following VM instance limits in your GCP account. The number of VMs required depends on the number of tiles and availability zones you plan to deploy. The following VM guidelines apply to the <%= vars.app_runtime_abbr %> and Small Footprint <%= vars.app_runtime_abbr %> runtimes:

    * **<%= vars.app_runtime_abbr %>:** At a minimum, a new GCP deployment requires the following `custom` VMs for <%= vars.app_runtime_abbr %> and <%= vars.ops_manager %>:

        <table border='1' class='nice'>
          <tr>
            <th width ="33%">VM Count</th>
            <th width ="33%">vCPU Count per VM</th>
            <th width ="33%">RAM (GB)</th>
          </tr><tr>
            <td>28</td>
            <td>1</td>
            <td>1</td>
          </tr><tr>
            <td>2</td>
            <td>2</td>
            <td>1</td>
          </tr><tr>
            <td>3</td>
            <td>1</td>
            <td>2</td>
          </tr><tr>
            <td>4</td>
            <td>2</td>
            <td>4</td>
          </tr><tr>
            <td>3</td>
            <td>2</td>
            <td>8</td>
          </tr><tr>
            <td>3</td>
            <td>4</td>
            <td>16</td>
          </tr>
        </table>

        <p> If you are deploying a test or sandbox deployment that does not require high availability, then you can scale down the number of VM instances in your deployment. For more information, see <a href="https://docs.vmware.com/en/VMware-Tanzu-Application-Service/3.0/tas-for-vms/scaling-ert-components.html">Scaling <%= vars.app_runtime_abbr %></a>.</p>

    * **Small Footprint <%= vars.app_runtime_abbr %>:** At a minimum, a new GCP deployment requires the following VMs to run Small Footprint <%= vars.app_runtime_abbr %>:
        <table id='small-footprint' border="1" class="nice">
          <tr>
            <th width ="15%"></th>
            <th width ="15%">VM Type</th>
            <th width ="15%">VM Count</th>
            <th width ="15%">vCPU Count per VM</th>
            <th width ="15%">RAM (GB)</th>
            <th width ="25%">Notes</th>
          </tr><tr>
            <th rowspan=7>Small Footprint <%= vars.app_runtime_abbr %></th>
            <td>micro</td>
            <td>11</td>
            <td>1</td>
            <td>1</td>
            <td>Add 1 to VM count if using HAProxy</td>
          </tr><tr>
            <td>small</td>
            <td>3</td>
            <td>1</td>
            <td>2</td>
            <td></td>
          </tr><tr>
            <td>highcpu</td>
            <td>1</td>
            <td>2</td>
            <td>2</td>
            <td></td>
          </tr><tr>
            <td>xlarge.disk</td>
            <td>1</td>
            <td>4</td>
            <td>16</td>
            <td></td>
          </tr><tr>
            <td>xlarge</td>
            <td>1</td>
            <td>4</td>
            <td>16</td>
            <td></td>
          </tr><tr>
            <td>medium.mem</td>
            <td>1</td>
            <td>1</td>
            <td>6</td>
            <td></td>
          </tr><tr>
            <td>large.disk</td>
            <td>1</td>
            <td>2</td>
            <td>8</td>
            <td></td>
          </tr><tr>
            <th rowspan=2><%= vars.ops_manager %></th>
            <td>large.disk</td>
            <td>1</td>
            <td>2</td>
            <td>8</td>
            <td></td>
          </tr><tr>
            <td>large.cpu</td>
            <td>4</td>
            <td>4</td>
            <td>4</td>
            <td></td>
          </tr>
        </table>

    * **<%= vars.k8s_runtime_abbr %>:** See [GCP Prerequisites and Resource Requirements](https://docs.vmware.com/en/VMware-Tanzu-Kubernetes-Grid-Integrated-Edition/1.17/tkgi/GUID-gcp-requirements.html).

* (<%= vars.app_runtime_abbr %>-only) Your GCP project must have sufficient quota to deploy all the VMs needed to install <%= vars.ops_manager %> with <%= vars.app_runtime_abbr %>. For a list of suggested quotas, see [Recommended GCP quotas](gcp-quotas.html).

## <a id='prerequisites'></a> Prerequisites

To install <%= vars.ops_manager %> on GCP, you must do the following:

* Install the Google Cloud SDK on your machine and authenticate it to your GCP account. To download the Google Cloud SDK, see [Google Cloud SDK](https://cloud.google.com/sdk/).

* Increase or remove the VM instance limits in your GCP account. For VM instance requirements, see [GCP Resource Requirements](#gcp-requirements), above.

* <a name='#env_account'></a> Update your GCP account with the following required permissions:
   * The following permissions are required to create firewalls, networks, load balancers, and other resources:
     * **Compute Engine** > **Compute Instances Admin (beta)**
     * **Compute Engine** > **Compute Network Admin**
     * **Compute Engine** > **Compute Security Admin**
   * To use Google Cloud Storage (GCS) for Cloud Controller file storage, the following permission is required to create buckets:
     * **Storage** > **Storage Admin**
   * To use Cloud DNS, the following permission is required to add and modify DNS entries:
     * **Project** > **Owner**

* Create an SSL certificate for your <%= vars.ops_manager %> domain.
  <p> To deploy <%= vars.ops_manager %> to a production environment, you must obtain a certificate from a certificate authority. <%= vars.company_name %> recommends using a self-signed certificate generated by <%= vars.ops_manager %> for development and testing purposes only.</p>

* Assign administrative rights to a domain for <%= vars.ops_manager %>. You need to be able to add wildcard records to this domain.

* Create a wildcard DNS record that points to your router or load balancer. Alternatively, you can use a service such as xip.io. For example, `203.0.113.0.xip.io`. Then, create at least one wildcard TLS certificate that matches the DNS record you configured.
  <p> With a wildcard DNS record, every hostname in your domain resolves to the IP address of your router or load balancer. For example, if you create a DNS record <code>*.example.com</code> pointing to your router, every app deployed to the <code>example.com</code> domain resolves to the IP address of your router.</p>

* Create one or more NTP servers, if the NTP servers are not already provided by your GCP project.

* Install the most recent version of one of the following CLIs, depending on your runtime:
  * **<%= vars.app_runtime_abbr %>:** The Cloud Foundry Command Line Interface (cf CLI). For more information, see [Cloud Foundry Command Line Interface](https://github.com/cloudfoundry/cli#downloads) in GitHub.
  * **<%= vars.k8s_runtime_abbr %>:** The <%= vars.k8s_runtime_abbr %> CLI. For more information, see [Installing the <%= vars.k8s_runtime_abbr %> CLI](https://docs.vmware.com/en/VMware-Tanzu-Kubernetes-Grid-Integrated-Edition/1.17/tkgi/GUID-installing-cli.html).

* **(<%= vars.app_runtime_abbr %>-only)** Request a quota increase for your GCP project. For GCP quota requirements, see [GCP Resource Requirements](#gcp-requirements). To request an increase, see [Quotas](https://console.cloud.google.com/iam-admin/quotas) in the GCP console.

* **(<%= vars.app_runtime_abbr %>-only)** Configure sufficient IP allocation. For more information about IP allocation requirements, see [<%= vars.app_runtime_abbr %> Resource Requirements](#pas) above.

* **(Optional)** **(<%= vars.app_runtime_abbr %>-only)** Configure external storage. <%= vars.company_name %> recommends using external storage if possible. For more information about how file storage location affects platform performance and stability during upgrades,
see [Configure file storage](https://docs.vmware.com/en/VMware-Tanzu-Application-Service/4.0/tas-for-vms/configuring.html#file-storage) in _Configuring <%= vars.app_runtime_abbr %> for Upgrades_.

* **(Optional)** **(<%= vars.app_runtime_abbr %> and <%= vars.ops_manager %>-only)** Configure external databases. <%= vars.company_name %> recommends using external databases in production deployments for BOSH Director and <%= vars.app_runtime_abbr %>. An external database must be configured to use the UTC timezone.

* **(Optional)** **(<%= vars.app_runtime_abbr %> and <%= vars.ops_manager %>-only)** Configure external user stores. When you deploy <%= vars.ops_manager %>, you can select a SAML user store for <%= vars.ops_manager %> or a SAML or LDAP user store for <%= vars.app_runtime_abbr %>, to integrate existing user accounts.

## <a id='install'></a> Install <%= vars.ops_manager %> on GCP

You can install <%= vars.ops_manager %> on GCP.

To install <%= vars.ops_manager %> on GCP, see [Installing <%= vars.ops_manager %> on GCP](gcp-manual.html)

## <a id='resources'></a> Additional resources

The following are additional resources related to installing <%= vars.ops_manager %> on GCP:

- For general authentication guidelines for GCP, see [GCP authentication documentation](https://cloud.google.com/docs/authentication).
- For more information about troubleshooting the <%= vars.ops_manager %> on GCP infrastructure, see [Troubleshooting <%= vars.ops_manager %> on GCP](https://docs.vmware.com/en/VMware-Tanzu-Application-Service/4.0/tas-for-vms/gcp-troubleshooting.html).
- For production-level deployment options for <%= vars.ops_manager %> on GCP, see [Reference Architecture for <%= vars.ops_manager %> on GCP](../refarch/gcp/gcp_ref_arch.html).
