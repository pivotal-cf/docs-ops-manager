---
title: Rotating Configurable Leaf Certificates
owner: Ops Manager
---

This topic describes how to rotate configurable leaf certificates for your <%= vars.ops_manager %> deployment. To rotate all certificates in your <%= vars.ops_manager %> deployment, see [Rotating CAs and Leaf Certificates](rotate-cas-and-leaf-certs.html).


## <a id='overview'></a> Overview

Configurable certificates are generated by the user and pasted into <%= vars.ops_manager %> configuration panes where needed. Examples include certificates that terminate SSL traffic into <%= vars.app_runtime_full %> (<%= vars.app_runtime_abbr %>), or authenticate a Single Sign-On for VMware Tanzu service plan to an external SAML server.

To rotate SAML certificates for both <%= vars.app_runtime_abbr %> and the Single Sign-On for VMware Tanzu service, see [Rotating Identity Provider SAML Certificates](rotate-saml-ca.html).

<p class='note warning'><strong>Warning:</strong> This procedure does not rotate the <%= vars.ops_manager %> root certificate authority (CA) or other CAs in your deployment. To rotate CAs and leaf certificates, see <a href="rotate-cas-and-leaf-certs.html">Rotating CAs and Leaf Certificates</a>.</p>


## <a id='prerequisites'></a> Prerequisites

<%= partial "/pcf/core/#{product_info['local_product_version'].to_s.sub('.','-')}/rotate-cas-certs-prereqs" %>


## <a id='procedure'></a> Procedure

<p class='note'><strong>Note:</strong> You can set a minimum duration for certificates within the BOSH Director tile. If you wish to set a minimum duration, it is recommended that you do so prior to starting a certificate rotation. For more information about minimum duration, see <a href="configure-certificate-minimum-duration.html">Configuring Minimum Duration for Certificates</a>.</p>

To rotate configurable leaf certificates:

1. Navigate to the <%= vars.ops_manager %> Installation Dashboard.

1. For each certificate you want to rotate:
  1. Find the text field where the leaf certificate is configured within the <%= vars.ops_manager %> UI. You might need to look through multiple configuration panes to identify the location of the certificate configuration text field. Use the following fields to identify the location of the certificate configuration text field:
      * The `product_guid` field in the <%= vars.ops_manager %> API output can help identify the tile in which the certificate is configured. For example, the prefix `p-bosh-` refers to the BOSH Director tile, and the prefix `cf-` refers to the <%= vars.app_runtime_abbr %> tile.
      * The `property_reference` field in the <%= vars.ops_manager %> API output can help identify the configuration pane in which the certificate is configured. For example, the `uaa.service_provider_key_credentials` property is configured in the **UAA** pane of the <%= vars.app_runtime_abbr %> tile.
  1. Copy a new value for the leaf certificate into the text field or generate a new leaf certificate using the **Generate RSA Certificate** button.
  1. Click **Save** at the bottom of each pane in which you added new leaf certificates.

1. Return to the <%= vars.ops_manager %> Installation Dashboard.

1. Click **Review Pending Changes**.

1. Click **Apply Changes**.


## <a id='troubleshooting'></a> Troubleshooting

<%= partial "/pcf/certs/troubleshooting-maestro-violations.html.md.erb" %>
